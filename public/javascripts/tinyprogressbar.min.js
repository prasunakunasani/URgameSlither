function tinyProgressbar(e){function t(e,t,a){l.style.width=t+"%";var n=null;n="percentage"==i?t+"%":"none"==i?"":e+" / "+r,a&&(n+=" "+a),c.innerHTML=n}function a(e,t,a){return Math.min(Math.max(e,t),a)}var n=0,r=100,s=n,i="percentage",o="";e.className=e.className+" tinyProgressbar";var l=document.createElement("span");l.className="bar",e.appendChild(l);var c=document.createElement("span");return c.className="value",c.innerHTML="&nbsp;",e.appendChild(c),this.setMinMax=function(e,t){n=e,r=t},this.setMode=function(e){"absolute"!=e&&"percentage"!=e&&"none"!=e||(i=e),this.progress(s)},this.progress=function(e,i){var o=((s=a(parseFloat(e),n,r))-n)/(r-n)*100;return t(parseFloat(s.toFixed(2)),Math.floor(o),i),parseFloat(o.toFixed(2))},this.reset=function(){this.progress(n)},o=e.getAttribute("data-min"),n=o?parseFloat(o):n,o=e.getAttribute("data-max"),r=o?parseFloat(o):r,(o=e.getAttribute("data-mode"))&&this.setMode(o),this.reset(),this}